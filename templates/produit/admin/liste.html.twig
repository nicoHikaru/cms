{% extends 'base.html.twig' %}

{% block title %}Liste Articles{% endblock %}

{% block body %}
<section class="contenair flexColumn">
    <h3>Liste Articles</h3>
    <div class="formChoiceArticle background">
        <form method="post">
            <label for="pet-select">Choisir type article(s):</label>
            <select name="choiceType" id="choiceType">
                <option value="">--Choisir--</option>
                {% for data in  typesProduits %}
                    <option value="{{data}}">{{data}}</option>
                {% endfor %}
            </select>
            <input type="submit" name="submit" value="valider" />
        </form>
    </div>
    <div class="box">
            {% for data in produit %}
                <div class="card">
                    <span class="deleteArticle flexEnd ml-15 mt-5">
                        {% include('svg/xCircle.html.twig') %}
                        {% if app.user is defined %}
                            <input type="hidden" name="idUser" value="{{ app.user.id }}"/>
                        {% endif %}
                        <input type="hidden" name="idArticle" value="{{ data.id }}"/>
                    </span>
                    <span class="cardPhotoAndCart">
                        <a href="{{ path('app_produit_detail' , { 'idProduit':data.id }) }}">
                            {% if data.photo == null or data.photo is empty %}
                                <div class="imageFill">
                                    {% include('svg/imageFill.html.twig') %}
                                </div>
                            {% else %}
                                <img src="{{ asset('uploads/articles/' ~ data.photo ) }}" class="imgProduit"/>
                            {% endif %}
                        </a>
                        {% if app.user != null %}
                            <span class="addCart" style="z-index:1;">
                                <button type="submit" class="carts">
                                    {% include('svg/addPanier.html.twig') %}
                                    | ajouter pannier                                    
                                </button>
                            </span>
                        {% endif %}
                    </span>
                    <span class="titleCardProduit">
                        Lorem ipsum dolor sit amet
                    </span>
                    <span class="detailCardProduit">
                        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                    </span>
                    <div class="footerCard">
                        <span class="price">{{ data.price }}â‚¬</span>
                        <span class="info">
                            {% if data.reduction != null %}
                                <span>{{ data.reduction}}% reduction</span>
                            {% else %}
                                
                            {% endif %}
                            <span class="note">
                                <img src="{{ asset('img/etoile.png')}}" />
                            </span>
                        </span>
                    </div>
                </div>
            {% endfor %}

       
    </div>
</section>

{% endblock %}