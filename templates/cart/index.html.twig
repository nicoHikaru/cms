{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}
<section class="contenair hauteur justifyContentStartCart widthBoxCart">
    <h2>Panier</h2>
    <div class="boxCart">
        <div class="listeCart">
            {% if carts is empty %}
                <div class="messageEmpty">
                    {% include('svg/emptyPanier.html.twig') %}
                    <span>vous n'avez pas encore ajouté d'artcile(s).</span>
                </div>
            {% else %}
                <table border="0" class="tableCart">
                    <thead class="tableCartTHead">
                        <th>Article</th>
                        <th>Type</th>
                        <th>Reduction</th>
                        <th>Prix</th>
                    </thead>
                    <tbody class="tableCartTbody">
                        {% for data in carts %}
                            {% if data.produit.photo == null %}
                                <td>
                                    {% include('svg/imageFillSmall.html.twig') %}
                                    {{ data.produit.nom}}
                                </td>
                            {% else %}
                                <td>
                                    <img src="{{ asset('uploads/articles/' ~ data.produit.photo) }}" class="imgArticles"/>
                                    {{ data.produit.nom}}
                                </td>
                            {% endif %}
                            <td>
                                {% if data.produit.typeProduit != null %}
                                    {{ data.produit.typeProduit.nom }}
                                {% else %}
                                    
                                {% endif %}
                            </td>
                            <td>
                                {% if data.produit.reduction != null %}
                                    {{ data.produit.reduction }}
                                {% else %}
                                    pas de réduction
                                {% endif %}
                            </td>
                            <td>
                                {{ data.produit.price }} euros
                            </td>
                        <tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="detailPrice">
                <table class="detailTable">
                    <thead>

                    </thead>
                    <tbody>
                        <td>
                            <div class="detailPar1">
                                <span>Produits</span>
                                <span>{{ totalAPayer }} euros</span>
                            </div>
                            <div class="detailPar1 mt">
                                <span>TVA 20%</span>
                                <span>{{ tva }} euros</span>
                            </div>
                        </td>
                    <tr>
                        <td>
                            <div class="detailPar1 mt">
                                <span>Total</span>
                                <span>{{ ttc }} euros</span>
                            </div>
                            <span class="flexRight">
                                <button class="button mt">Payer</button>
                            </span>
                        </td>
                    </tbody>
                </table>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}
